webpackJsonp([4],{"4YfN":function(t,e,n){"use strict";e.__esModule=!0;var r,a=n("aA9S"),s=(r=a)&&r.__esModule?r:{default:r};e.default=s.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},I3g2:function(t,e){},NQ0Q:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("4YfN"),a=n.n(r),s=(n("TNZe"),n("o0ft")),i=(n("pkmQ"),n("p8HH")),o=(n("4way"),n("lFAY")),c=n("/xf8"),u=n("nUeE"),f=n.n(u),l=n("R4Sj"),d=f.a.get("userInfo");c.default.use(s.a).use(i.a).use(o.a);var m={data:function(){return{userInfo:d,msgList:[],content:"mock message"}},computed:a()({},Object(l.b)({list:function(t){var e=d.id+"_"+this.$route.params.partnerId,n=[].concat(t.chat.msgObj[e]||[]);return n.sort(function(t,e){return e.create_time<t.create_time?1:e.create_time===t.create_time?0:-1}),n},partnerInfo:function(t){var e=this;return t.chat.userList.find(function(t){return+t.id==+e.$route.params.partnerId})}})),methods:{getAvatar:function(t){return this.isFromMe(t)?this.userInfo.avatar:this.partnerInfo.avatar},isFromMe:function(t){return+t.f_from==+this.userInfo.id},itemCls:function(t){return this.isFromMe(t)?"item-mine":"item-partner"},doSendMsg:function(){this.$store.dispatch("chat/sendMsg",{to:this.$route.params.partnerId,content:this.content})}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view"},[n("van-nav-bar",{attrs:{title:t.partnerInfo.nickname,"left-text":"返回","left-arrow":""},on:{"click-left":function(e){t.$router.go(-1)}}}),t._v(" "),n("div",{staticClass:"list"},t._l(t.list,function(e){return n("div",{key:e.id,staticClass:"item",class:t.itemCls(e),attrs:{"data-from":e.from,"data-to":e.to},on:{click:function(n){t.$router.push("/chatItem/"+e.id)}}},[n("img",{staticClass:"item-avatar",attrs:{src:t.getAvatar(e),alt:"头像"}}),t._v(" "),n("div",{staticClass:"item-name"},[t._v(t._s(e.content))])])}),0),t._v(" "),n("div",{staticClass:"btm-fixed"},[n("div",{staticClass:"form"},[n("van-field",{staticClass:"form-input",attrs:{placeholder:"请输入用户名"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),n("van-button",{staticClass:"form-submit",attrs:{type:"primary"},on:{click:t.doSendMsg}},[t._v("发送")])],1)])],1)},staticRenderFns:[]};var p=n("C7Lr")(m,v,!1,function(t){n("wRb/")},"data-v-fc234ebc",null);e.default=p.exports},TNZe:function(t,e,n){"use strict";var r=n("hU59"),a=(n.n(r),n("I3g2"));n.n(a)},pkmQ:function(t,e,n){"use strict";var r=n("hU59");n.n(r)},"wRb/":function(t,e){}});
//# sourceMappingURL=4.58c90fbd5ae4d6fc5c19.js.map