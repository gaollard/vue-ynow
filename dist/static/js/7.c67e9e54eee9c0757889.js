webpackJsonp([7],{R0tl:function(e,t){},SWUO:function(e,t,n){var a=n("1TJe");a(a.S+a.F*!n("n3Xl"),"Object",{defineProperty:n("+oMM").f})},a3Yh:function(e,t,n){"use strict";t.__esModule=!0;var a,o=n("liLe"),i=(a=o)&&a.__esModule?a:{default:a};t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},eSIO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("4YfN"),o=n.n(a),i=n("aA9S"),r=n.n(i),c=n("3cXf"),u=n.n(c),s=(n("GHWT"),n("1yQd")),l=n("a3Yh"),f=n.n(l),d=(n("4way"),n("lFAY")),h=(n("TNZe"),n("o0ft")),v=(n("7cF9"),n("3UBn")),k=n("/xf8"),p=n("MqhK"),b=n("kqgM");k.default.use(d.a).use(h.a).use(v.a);var m={data:function(){return{userInfo:{},userInfoCache:{},pickList:[],token:""}},methods:{onClickLeft:function(){this.$router.go(-1)},onBlur:function(e){this.userInfoCache[e]&&this.userInfo[e]!==this.userInfoCache[e]&&p.a.updateUserInfo(f()({},e,this.userInfoCache[e])).then(function(t){0==+t.errCode&&"nickname"===e&&Object(s.a)("修改昵称成功")})},onRead:function(e){this.pickList[0]=e,this.uploadImg(this.pickList.length-1,e.file)},doGet7nToken:function(){var e=this;p.a.get7nToken().then(function(t){e.token=t.data.token})},uploadImg:function(e,t,n){var a=this;b.upload(t,t.name,this.token,{},{}).subscribe({next:function(t){a.pickList[e].percent=t.total.percent,a.pickList=[].concat(a.pickList)},error:function(e){Object(s.a)(e)},complete:function(t){console.log(t),a.pickList[e].url="//c1.airtlab.com/"+t.key,a.pickList=[].concat(a.pickList),a.userInfoCache.avatar=a.pickList[e].url,a.onBlur("avatar")}})},doCreateProduct:function(){var e=this.pickList.map(function(e){return e.url});e=u()(e);var t=r()({imgs:e},this.form);p.a.createXzProduct(t).then(function(e){Object(s.a)("上传成功")})},doGetUserInfo:function(){var e=this;p.a.getUserInfo().then(function(t){e.userInfo=t.data,e.userInfoCache=o()({},t.data)})}},mounted:function(){this.doGetUserInfo(),this.doGet7nToken()}},I={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-nav-bar",{attrs:{title:"我的资料","left-text":"返回","left-arrow":""},on:{"click-left":e.onClickLeft}}),e._v(" "),n("div",{staticClass:"content"},[n("van-cell-group",[n("van-field",{attrs:{disabled:!0,required:"",label:"手机号码"},on:{blur:function(t){e.onBlur("nickname")}},model:{value:e.userInfoCache.mobile,callback:function(t){e.$set(e.userInfoCache,"mobile",t)},expression:"userInfoCache.mobile"}}),e._v(" "),n("van-field",{attrs:{label:"昵称",required:""},on:{blur:function(t){e.onBlur("nickname")}},model:{value:e.userInfoCache.nickname,callback:function(t){e.$set(e.userInfoCache,"nickname",t)},expression:"userInfoCache.nickname"}}),e._v(" "),n("van-cell",{attrs:{title:"头像","is-link":""}},[[n("van-uploader",{staticClass:"touch-area",attrs:{"after-read":e.onRead}},[e.userInfoCache.avatar?n("img",{staticClass:"avatar",attrs:{src:e.userInfoCache.avatar}}):[n("span",[e._v("+")])]],2)]],2)],1)],1)],1)},staticRenderFns:[]};var C=n("C7Lr")(m,I,!1,function(e){n("R0tl")},"data-v-6413a7e8",null);t.default=C.exports},liLe:function(e,t,n){e.exports={default:n("t2Bb"),__esModule:!0}},t2Bb:function(e,t,n){n("SWUO");var a=n("iKmH").Object;e.exports=function(e,t,n){return a.defineProperty(e,t,n)}}});
//# sourceMappingURL=7.c67e9e54eee9c0757889.js.map