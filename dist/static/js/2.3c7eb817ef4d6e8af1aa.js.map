{"version":3,"sources":["webpack:///src/components/categoryPicker/index.vue","webpack:///./src/components/categoryPicker/index.vue?0c7c","webpack:///./src/components/categoryPicker/index.vue","webpack:///src/components/tradeWayPicker/index.vue","webpack:///./src/components/tradeWayPicker/index.vue?631d","webpack:///./src/components/tradeWayPicker/index.vue","webpack:///./src/views/xzProductCreate/img/add.png","webpack:///./node_modules/_vant@1.5.6@vant/es/switch/style/index.js","webpack:///src/views/xzProductCreate/index.vue","webpack:///./src/views/xzProductCreate/index.vue?2c48","webpack:///./src/views/xzProductCreate/index.vue","webpack:///./src/views/xzProductCreate/img/remove.png","webpack:///src/components/cityPicker/index.vue","webpack:///./src/components/cityPicker/index.vue?6f3b","webpack:///./src/components/cityPicker/index.vue"],"names":["vue_esm","use","loading","picker","popup","categoryPicker","props","value","type","Boolean","default","data","list","index","watch","val","console","log","mounted","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","ret","wrap","_context","prev","next","ynow","getXzCategorytList","sent","retCode","Object","toast","errMsg","t0","stop","methods","onCancel","$emit","onConfirm","components_categoryPicker","render","_h","$createElement","_c","_self","staticClass","ref","attrs","show-toolbar","title","columns","defualt-index","value-key","on","cancel","confirm","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","tradeWayPicker","defaultIndex","Number","config","components_tradeWayPicker","module","exports","__WEBPACK_IMPORTED_MODULE_0__style_base_css__","__WEBPACK_IMPORTED_MODULE_1__index_css__","n","nav_bar","field","es_switch","cell","cell_group","es_button","uploader","dialog","xzProductCreate","components","cityPicker","checked","form","price","city","description","depreciation","categoryId","categoryName","tradeWayId","tradeWayName","pickList","token","categoryValue","showCategoryPicker","tradeWayPickerValue","showTradeWayPicker","cityPickerValue","showCityPicker","errors","showFormError","computed","extends_default","vuex_esm","categoryList","state","xzProduct","category","findIndex","element","id","name","_this2","doGet7nToken","$route","query","itemId","doGetXzProductItem","length","$store","dispatch","onRead","file","push","uploadImg","removeItem","splice","_this3","get7nToken","errCode","_this4","_callee2","_context2","getXzProductItem","itemInfo","category_id","trade_way_id","imgs","map","url","content","percent","callback","vm","qiniu_min","subscribe","res","total","concat","error","_error","complete","key","doCreateProduct","_this5","_callee3","params","_context3","stringify_default","createXzProduct","success","doUpdateProduct","_this6","_callee4","_context4","updateXzProduct","handleSubmit","onCategoryChange","onTradeWayChange","onCityChange","values","forEach","join","views_xzProductCreate","_vm","left-text","left-arrow","click-left","$event","$router","go","_v","placeholder","model","$$v","$set","expression","readonly","is-link","nativeOn","click","_l","item","src","_s","alt","after-read","size","on-confirm","on-cancel","columnNum","getSfCityList","then","replace","JSON","parse","initCityList","onChange","children","rawIndex","setColumnValues","components_cityPicker","position","change"],"mappings":"mPAqBAA,EAAA,QAAAC,IAAAC,EAAA,GAAAD,IAAAE,EAAA,GAAAF,IAAAG,EAAA,GAEA,IAAAC,GACAC,OACAC,OACAC,KAAAC,QACAC,SAAA,IAGAC,KAPA,WAQA,OACAC,QACAV,SAAA,EACAW,MAAA,IAGAC,OACAP,MADA,SACAQ,GACAC,QAAAC,IAAAF,KAGAG,QAnBA,WAmBA,IAAAC,EAAAC,KAAA,OAAAC,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACAX,EAAAjB,SAAA,EADA0B,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGAC,EAAA,EAAAC,qBAHA,OAIA,KADAN,EAHAE,EAAAK,MAIAC,QACAf,EAAAP,KAAAc,EAAAf,KAAAC,KAEAuB,OAAAC,EAAA,EAAAD,CAAAT,EAAAW,QAPAT,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAU,GAAAV,EAAA,SAUAZ,QAAAC,IAAAW,EAAAU,IAVA,QAYAnB,EAAAjB,SAAA,EAZA,yBAAA0B,EAAAW,SAAAd,EAAAN,IAAA,SAAAE,IAcAmB,SACAC,SADA,WAEArB,KAAAsB,MAAA,cAEAC,UAJA,SAIAhC,GACAS,KAAAsB,MAAA,aAAA/B,MC1DeiC,GADEC,OAFjB,WAA0B,IAAaC,EAAb1B,KAAa2B,eAA0BC,EAAvC5B,KAAuC6B,MAAAD,IAAAF,EAAwB,OAA/D1B,KAA+D,MAAA4B,EAAA,OAA6BE,YAAA,UAAoBF,EAAA,cAAmBG,IAAA,SAAAD,YAAA,SAAAE,OAAyCC,eAAA,GAAAC,MAAA,OAAApD,QAA5KkB,KAA4KlB,QAAAqD,QAA5KnC,KAA4KR,KAAA4C,gBAAA,EAAAC,YAAA,QAA+GC,IAAKC,OAAhSvC,KAAgSqB,SAAAmB,QAAhSxC,KAAgSuB,cAA+C,GAA/UvB,KAA+UyC,MAExVC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE5D,EACAuC,GATF,EAVA,SAAAsB,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,EAAAJ,EAAiB,+ICPhC/D,EAAA,QAAAC,IAAAC,EAAA,GAAAD,IAAAE,EAAA,GAAAF,IAAAG,EAAA,GAEA,IAAAgE,GACA9D,OACAC,OACAC,KAAAC,QACAC,SAAA,GAEA2D,cACA7D,KAAA8D,OACA5D,QAAA,IAGAC,KAXA,WAYA,OACA4C,QAAAgB,EAAA,EACArE,SAAA,IAGAsC,SACAC,SADA,WAEArB,KAAAsB,MAAA,cAEAC,UAJA,SAIAhC,GACAS,KAAAsB,MAAA,aAAA/B,MCxCe6D,GADE3B,OAFjB,WAA0B,IAAaC,EAAb1B,KAAa2B,eAA0BC,EAAvC5B,KAAuC6B,MAAAD,IAAAF,EAAwB,OAA/D1B,KAA+D,MAAA4B,EAAA,OAA6BE,YAAA,UAAoBF,EAAA,cAAmBE,YAAA,SAAAE,OAA4BC,eAAA,GAAAC,MAAA,OAAApD,QAA/JkB,KAA+JlB,QAAAqD,QAA/JnC,KAA+JmC,QAAAE,YAAA,QAAgGC,IAAKC,OAApQvC,KAAoQqB,SAAAmB,QAApQxC,KAAoQuB,cAA+C,GAAnTvB,KAAmTyC,MAE5TC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEG,EACAI,GATF,EAVA,SAAAN,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,EAAAJ,EAAiB,0EC1BhCU,EAAAC,QAAA,gaCAA,IAAAC,EAAAX,EAAA,QAAAY,GAAAZ,EAAAa,EAAAF,GAAAX,EAAA,SAAAA,EAAAa,EAAAD,4fCsGA5E,EAAA,QAAAC,IAAA6E,EAAA,GACA7E,IADA8E,EAAA,GAEA9E,IAFA+E,EAAA,GAGA/E,IAHAgF,EAAA,GAIAhF,IAJAiF,EAAA,GAKAjF,IALAkF,EAAA,GAMAlF,IANAmF,EAAA,GAOAnF,IAPAoF,EAAA,GASA,IAAAC,GACAC,YACAC,aAAA,EACAnF,iBAAA,EACA+D,iBAAA,GAEAzD,KANA,WAOA,OACA8E,QAAA,GACAC,MACAC,MAAA,GACArC,MAAA,GACAsC,KAAA,GACAC,YAAA,GACAC,aAAA,GACAC,WAAA,GACAC,aAAA,GACAC,WAAA,GACAC,aAAA,IAEAC,YACAC,MAAA,GAEAC,cAAA,KACAC,oBAAA,EAEAC,oBAAA,KACAC,oBAAA,EAEAC,gBAAA,KACAC,gBAAA,EAEAC,UACAC,eAAA,IAGAC,SAAYC,OACZ3E,OAAA4E,EAAA,EAAA5E,EACA6E,aAAA,SAAAC,GAAA,OAAAA,EAAAC,UAAAC,SAAAvG,SAEAsF,aAJA,WAIA,IAAA/E,EAAAC,KACAgG,EAAA7C,EAAA,EAAA6C,UAAA,SAAAC,GAAA,OAAAA,EAAAC,KAAAnG,EAAAuE,KAAAO,aACA,WAAAmB,EACA7C,EAAA,EAAA6C,GAAAG,KAEA,IAGAvB,aAZA,WAYA,IAAAwB,EAAApG,KACAgG,EAAAhG,KAAA4F,aAAAI,UAAA,SAAAC,GAAA,OAAAA,EAAAC,KAAAE,EAAA9B,KAAAK,aACA,WAAAqB,EACAhG,KAAA4F,aAAAI,GAAAG,KAEA,MAIArG,QAzDA,WA0DAE,KAAAqG,eACArG,KAAAsG,OAAAC,MAAAC,QACAxG,KAAAyG,qBAEAzG,KAAA4F,aAAAc,QACA1G,KAAA2G,OAAAC,SAAA,0BAGAxF,SAEAyF,OAFA,SAEAC,GACA9G,KAAA+E,SAAAgC,KAAAD,GACA9G,KAAAgH,UAAAhH,KAAA+E,SAAA2B,OAAA,EAAAI,SAIAG,WARA,SAQAxH,GACAO,KAAA+E,SAAAmC,OAAAzH,EAAA,IAIA4G,aAbA,WAaA,IAAAc,EAAAnH,KAAA,OAAAC,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEAC,EAAA,EAAAyG,aAFA,OAGA,KADA9G,EAFAE,EAAAK,MAGAwG,QACAF,EAAAnC,MAAA1E,EAAAf,KAAAyF,MAEAjE,OAAAC,EAAA,EAAAD,CAAAT,EAAAW,QANAT,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAU,GAAAV,EAAA,SASAZ,QAAAC,IAAAW,EAAAU,IATA,yBAAAV,EAAAW,SAAAd,EAAA8G,IAAA,SAAAlH,IAcAwG,mBA3BA,WA2BA,IAAAa,EAAAtH,KAAA,OAAAC,IAAAC,EAAAC,EAAAC,KAAA,SAAAmH,IAAA,IAAAjH,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAiH,GAAA,cAAAA,EAAA/G,KAAA+G,EAAA9G,MAAA,cAAA8G,EAAA/G,KAAA,EAAA+G,EAAA9G,KAAA,EAEAC,EAAA,EAAA8G,iBAAAH,EAAAhB,OAAAC,MAAAC,QAFA,OAGA,KADAlG,EAFAkH,EAAA3G,MAGAC,SACAwG,EAAAI,SAAApH,EAAAf,KACA+H,EAAAhD,KAAAC,OAAA+C,EAAAI,SAAAnD,MAAA,IACA+C,EAAAhD,KAAApC,MAAAoF,EAAAI,SAAAxF,MACAoF,EAAAhD,KAAAE,KAAA8C,EAAAI,SAAAlD,KACA8C,EAAAhD,KAAAG,YAAA6C,EAAAI,SAAAjD,YACA6C,EAAAhD,KAAAI,aAAA4C,EAAAI,SAAAhD,aACA4C,EAAAhD,KAAAK,WAAA2C,EAAAI,SAAAC,YACAL,EAAAhD,KAAAO,WAAAyC,EAAAI,SAAAE,aACAN,EAAAvC,SAAAuC,EAAAI,SAAAG,KAAAC,IAAA,SAAA7B,GACA,OACA8B,IAAA9B,EACA+B,QAAA/B,EACAgC,QAAA,QAIAlH,OAAAC,EAAA,EAAAD,CAAAT,EAAAW,QApBAuG,EAAA9G,KAAA,gBAAA8G,EAAA/G,KAAA,EAAA+G,EAAAtG,GAAAsG,EAAA,SAuBA5H,QAAAC,IAAA2H,EAAAtG,IAvBA,yBAAAsG,EAAArG,SAAAoG,EAAAD,IAAA,SAAArH,IA4BA+G,UAvDA,SAuDAvH,EAAAqH,EAAAoB,GACA,IAAAC,EAAAnI,KACAoI,EAAA,OAAAtB,IAAAX,KAAAnG,KAAAgF,aACAqD,WACA3H,KADA,SACA4H,GACAH,EAAApD,SAAAtF,GAAA,QAAA6I,EAAAC,MAAAN,QACAE,EAAApD,YAAAyD,OAAAL,EAAApD,WAEA0D,MALA,SAKAC,GACU3H,OAAAC,EAAA,EAAAD,CAAV2H,IAEAC,SARA,SAQAL,GACAH,EAAApD,SAAAtF,GAAA,wBAAA6I,EAAAM,IACAT,EAAApD,YAAAyD,OAAAL,EAAApD,cAMA8D,gBA1EA,WA0EA,IAAAC,EAAA9I,KAAA,OAAAC,IAAAC,EAAAC,EAAAC,KAAA,SAAA2I,IAAA,IAAAlB,EAAAmB,EAAA1I,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAA0I,GAAA,cAAAA,EAAAxI,KAAAwI,EAAAvI,MAAA,cAAAuI,EAAAxI,KAAA,EAEAoH,EAAAiB,EAAA/D,SAAA+C,IAAA,SAAA7B,GAAA,OAAAA,EAAA8B,MACAF,EAAAqB,IAAArB,GACAmB,EAJAtD,OAKAoD,EAAAxE,MACAuD,OACAtD,MAAA,KAAAuE,EAAAxE,KAAAC,QAPA0E,EAAAvI,KAAA,EASAC,EAAA,EAAAwI,gBAAAH,GATA,OAUA,KADA1I,EATA2I,EAAApI,MAUAwG,QACArG,EAAA,EAAAoI,QAAA,QAEArI,OAAAC,EAAA,EAAAD,CAAAT,EAAAW,QAbAgI,EAAAvI,KAAA,iBAAAuI,EAAAxI,KAAA,GAAAwI,EAAA/H,GAAA+H,EAAA,SAgBArJ,QAAAC,IAAAoJ,EAAA/H,IAhBA,yBAAA+H,EAAA9H,SAAA4H,EAAAD,IAAA,UAAA7I,IAqBAoJ,gBA/FA,WA+FA,IAAAC,EAAAtJ,KAAA,OAAAC,IAAAC,EAAAC,EAAAC,KAAA,SAAAmJ,IAAA,IAAA1B,EAAAmB,EAAA1I,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAiJ,GAAA,cAAAA,EAAA/I,KAAA+I,EAAA9I,MAAA,cAAA8I,EAAA/I,KAAA,EAEAoH,EAAAyB,EAAAvE,SAAA+C,IAAA,SAAA7B,GAAA,OAAAA,EAAA8B,MACAF,EAAAqB,IAAArB,GACAmB,EAJAtD,OAKA4D,EAAAhF,MACAuD,OACArB,OAAA8C,EAAAhD,OAAAC,MAAAC,OACAjC,MAAA,KAAA+E,EAAAhF,KAAAC,QARAiF,EAAA9I,KAAA,EAUAC,EAAA,EAAA8I,gBAAAT,GAVA,OAWA,KADA1I,EAVAkJ,EAAA3I,MAWAwG,QACArG,EAAA,EAAAoI,QAAA,QAEArI,OAAAC,EAAA,EAAAD,CAAAT,EAAAW,QAdAuI,EAAA9I,KAAA,iBAAA8I,EAAA/I,KAAA,GAAA+I,EAAAtI,GAAAsI,EAAA,SAiBA5J,QAAAC,IAAA2J,EAAAtI,IAjBA,yBAAAsI,EAAArI,SAAAoI,EAAAD,IAAA,UAAArJ,IAsBAyJ,aArHA,WAsHA,IAAApF,EAAAtE,KAAAsE,KACAiB,KACAjB,EAAApC,MAAAwE,OAAA,GACAnB,EAAAwB,KAAA,aAEA,IAAAzC,EAAAC,MAAAmC,QACAnB,EAAAwB,KAAA,UAEA,IAAAzC,EAAAE,KAAAkC,QACAnB,EAAAwB,KAAA,cAEA,IAAAzC,EAAAI,aAAAgC,QACAnB,EAAAwB,KAAA,YAEA,IAAAzC,EAAAK,WAAA+B,QACAnB,EAAAwB,KAAA,YAEA,IAAAzC,EAAAO,WAAA6B,QACAnB,EAAAwB,KAAA,YAEA/G,KAAA+E,SAAA2B,OAAA,GACAnB,EAAAwB,KAAA,cAEA/G,KAAAuF,SACAvF,KAAAwF,gBAAAD,EAAAmB,OACA1G,KAAAwF,gBACAxF,KAAAsG,OAAAC,MAAAC,OACAxG,KAAAqJ,kBAEArJ,KAAA6I,oBAMAc,iBAzJA,SAyJApK,GACAS,KAAAiF,cAAA1F,EACAS,KAAAsE,KAAAK,WAAApF,EAAA2G,GACAlG,KAAAsE,KAAAM,aAAArF,EAAA4G,KACAnG,KAAAkF,oBAAA,GAIA0E,iBAjKA,SAiKArK,GACAS,KAAAmF,oBAAA5F,EACAS,KAAAsE,KAAAO,WAAAtF,EAAA2G,GACAlG,KAAAsE,KAAAQ,aAAAvF,EAAA4G,KACAnG,KAAAoF,oBAAA,GAIAyE,aAzKA,SAyKAtK,GACAS,KAAAqF,gBAAA9F,EACA,IAAAuK,KACAvK,EAAAwK,QAAA,SAAA9D,GACA6D,EAAA/C,KAAAd,EAAAE,QAEAnG,KAAAsE,KAAAE,KAAAsF,EAAAE,KAAA,QC7VeC,GADExI,OAFjB,WAA0B,IAAAyI,EAAAlK,KAAa0B,EAAAwI,EAAAvI,eAA0BC,EAAAsI,EAAArI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,SAAmBF,EAAA,eAAoBI,OAAOE,MAAA,OAAAiI,YAAA,KAAAC,aAAA,IAAgD9H,IAAK+H,aAAA,SAAAC,GAA8BJ,EAAAK,QAAAC,IAAA,OAAqBN,EAAAO,GAAA,KAAA7I,EAAA,OAAwBE,YAAA,YAAsBF,EAAA,aAAkBI,OAAO0I,YAAA,wBAAqCC,OAAQxL,MAAA+K,EAAA5F,KAAA,MAAA4D,SAAA,SAAA0C,GAAgDV,EAAAW,KAAAX,EAAA5F,KAAA,QAAAsG,IAAiCE,WAAA,gBAA0BZ,EAAAO,GAAA,KAAA7I,EAAA,aAA8BI,OAAO0I,YAAA,YAAyBC,OAAQxL,MAAA+K,EAAA5F,KAAA,MAAA4D,SAAA,SAAA0C,GAAgDV,EAAAW,KAAAX,EAAA5F,KAAA,QAAAsG,IAAiCE,WAAA,gBAA0BZ,EAAAO,GAAA,KAAA7I,EAAA,aAA8BI,OAAO0I,YAAA,YAAAtL,KAAA,UAA0CuL,OAAQxL,MAAA+K,EAAA5F,KAAA,aAAA4D,SAAA,SAAA0C,GAAuDV,EAAAW,KAAAX,EAAA5F,KAAA,eAAAsG,IAAwCE,WAAA,uBAAiCZ,EAAAO,GAAA,KAAA7I,EAAA,aAA8BI,OAAO0I,YAAA,gBAAAtL,KAAA,YAAgDuL,OAAQxL,MAAA+K,EAAA5F,KAAA,YAAA4D,SAAA,SAAA0C,GAAsDV,EAAAW,KAAAX,EAAA5F,KAAA,cAAAsG,IAAuCE,WAAA,sBAAgCZ,EAAAO,GAAA,KAAA7I,EAAA,aAA8BI,OAAO0I,YAAA,gBAAAK,UAAA,EAAAC,WAAA,GAA6DC,UAAWC,MAAA,SAAAZ,GAAyBJ,EAAAhF,oBAAA,IAA6ByF,OAAQxL,MAAA+K,EAAA,aAAAhC,SAAA,SAAA0C,GAAkDV,EAAAtF,aAAAgG,GAAqBE,WAAA,kBAA4BZ,EAAAO,GAAA,KAAA7I,EAAA,aAA8BI,OAAO0I,YAAA,OAAAK,UAAA,EAAAC,WAAA,GAAoDC,UAAWC,MAAA,SAAAZ,GAAyBJ,EAAA9E,oBAAA,IAA6BuF,OAAQxL,MAAA+K,EAAA,aAAAhC,SAAA,SAAA0C,GAAkDV,EAAApF,aAAA8F,GAAqBE,WAAA,kBAA4BZ,EAAAO,GAAA,KAAA7I,EAAA,aAA8BI,OAAO0I,YAAA,SAAAK,UAAA,EAAAC,WAAA,GAAsDC,UAAWC,MAAA,SAAAZ,GAAyBJ,EAAA5E,gBAAA,IAAyBqF,OAAQxL,MAAA+K,EAAA5F,KAAA,KAAA4D,SAAA,SAAA0C,GAA+CV,EAAAW,KAAAX,EAAA5F,KAAA,OAAAsG,IAAgCE,WAAA,eAAyBZ,EAAAO,GAAA,KAAA7I,EAAA,OAAwBE,YAAA,gBAA0BoI,EAAAiB,GAAAjB,EAAA,kBAAAkB,EAAA3L,GAA6C,OAAAmC,EAAA,OAAiBgH,IAAAnJ,EAAAqC,YAAA,gBAAoCF,EAAA,OAAYE,YAAA,WAAAE,OAA8BqJ,IAAAD,EAAApD,WAAoBkC,EAAAO,GAAA,KAAA7I,EAAA,OAAwBU,IAAI4I,MAAA,SAAAZ,GAAyBJ,EAAAjD,WAAAxH,OAAwBmC,EAAA,OAAAsI,EAAAO,GAAA,IAAAP,EAAAoB,GAAAF,EAAAnD,YAAAiC,EAAAO,GAAA,KAAA7I,EAAA,OAAqEE,YAAA,cAAAE,OAAiCqJ,IAAMzI,EAAQ,QAAkB2I,IAAA,cAAoBrB,EAAAO,GAAA,KAAA7I,EAAA,gBAAiCE,YAAA,aAAAE,OAAgCwJ,aAAAtB,EAAArD,WAAyBjF,EAAA,OAAaE,YAAA,WAAAE,OAA8BqJ,IAAMzI,EAAQ,aAAkB,OAAAsH,EAAAO,GAAA,KAAA7I,EAAA,YAAsCE,YAAA,UAAAE,OAA6BE,MAAA,UAAgBN,EAAA,cAAmB+I,OAAOxL,MAAA+K,EAAA,QAAAhC,SAAA,SAAA0C,GAA6CV,EAAA7F,QAAAuG,GAAgBE,WAAA,cAAuB,OAAAZ,EAAAO,GAAA,KAAA7I,EAAA,cAAuCE,YAAA,YAAAE,OAA+ByJ,KAAA,QAAArM,KAAA,WAAgCkD,IAAK4I,MAAAhB,EAAAR,gBAA0BQ,EAAAO,GAAA,QAAAP,EAAAO,GAAA,KAAA7I,EAAA,kBAAkDU,IAAIoJ,aAAAxB,EAAAP,iBAAAgC,YAAA,SAAArB,GAA+DJ,EAAAhF,oBAAA,IAA8ByF,OAAQxL,MAAA+K,EAAA,mBAAAhC,SAAA,SAAA0C,GAAwDV,EAAAhF,mBAAA0F,GAA2BE,WAAA,wBAAkCZ,EAAAO,GAAA,KAAA7I,EAAA,kBAAmCU,IAAIoJ,aAAAxB,EAAAN,iBAAA+B,YAAA,SAAArB,GAA+DJ,EAAA9E,oBAAA,IAA8BuF,OAAQxL,MAAA+K,EAAA,mBAAAhC,SAAA,SAAA0C,GAAwDV,EAAA9E,mBAAAwF,GAA2BE,WAAA,wBAAkCZ,EAAAO,GAAA,KAAA7I,EAAA,cAA+BU,IAAIoJ,aAAAxB,EAAAL,cAA8Bc,OAAQxL,MAAA+K,EAAA,eAAAhC,SAAA,SAAA0C,GAAoDV,EAAA5E,eAAAsF,GAAuBE,WAAA,oBAA8BZ,EAAAO,GAAA,KAAA7I,EAAA,cAA+BI,OAAOE,MAAA,aAAoByI,OAAQxL,MAAA+K,EAAA,cAAAhC,SAAA,SAAA0C,GAAmDV,EAAA1E,cAAAoF,GAAsBE,WAAA,mBAA6BlJ,EAAA,MAAWE,YAAA,cAAyBoI,EAAAiB,GAAAjB,EAAA,gBAAAkB,EAAA3L,GAA0C,OAAAmC,EAAA,MAAgBgH,IAAAnJ,IAAUyK,EAAAO,GAAAP,EAAAoB,GAAA7L,EAAA,QAAAyK,EAAAoB,GAAAF,QAAgD,UAElvH1I,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEqB,EACA+F,GATF,EAVA,SAAAnH,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB,4BC1BhCU,EAAAC,QAAA,k3BCoBA1E,EAAA,QAAAC,IAAAE,EAAA,GAAAF,IAAAG,EAAA,GAEA,IAAAoF,GACAlF,OACAC,OACAC,KAAAC,QACAC,SAAA,IAGAC,KAPA,WAQA,OACAT,SAAA,EACA8M,UAAA,EACAzJ,aAGArC,QAdA,WAcA,IAAAC,EAAAC,KACIW,EAAA,EAAJkL,gBAAAC,KAAA,SAAAxD,GACA,IAAA9I,EAAA8I,EAAA/I,KAAAC,KACAA,EAAA0J,IAAA1J,GACAuM,QAAA,mBACAA,QAAA,oBACAA,QAAA,wBACAA,QAAA,eACAvM,EAAAwM,KAAAC,MAAAzM,GACAO,EAAAjB,SAAA,EACAiB,EAAAP,OACAO,EAAAmM,kBAGA9K,SACA+K,SADA,SACApN,EAAA+K,EAAArK,GACAO,KAAAjB,SACA+K,EAAArK,GAAA2M,UAAAtC,EAAArK,GAAA2M,SAAA1F,QACA1G,KAAAqM,SAAA5M,EAAA,EAAAqK,EAAArK,GAAA2M,WAGAF,aAPA,WAQA,QAAAzM,EAAA,EAAAA,EAAAO,KAAA4L,UAAAnM,IACAO,KAAAmC,QAAA1C,IACAqK,UACA7G,aAAA,GAGAjD,KAAAqM,SAAA,EAAArM,KAAAR,OAEA6M,SAhBA,SAgBA5M,EAAAD,GACAC,IAAAO,KAAA4L,YAGA5L,KAAAjB,OACAiB,KAAAjB,OAAAuN,gBAAA7M,EAAAD,GAEAQ,KAAAmC,QAAA1C,GAAA,OAAAD,EAEAA,EAAAkH,QAAAlH,EAAA,GAAA4M,UAAA5M,EAAA,GAAA4M,SAAA1F,OACA1G,KAAAqM,SAAA5M,EAAA,EAAAD,EAAA,GAAA4M,UAEApM,KAAAqM,SAAA5M,EAAA,QAGA4B,SA/BA,SA+BA9B,GACAS,KAAAsB,MAAA,aAEAC,UAlCA,SAkCAhC,GACAS,KAAAsB,MAAA,aAAA/B,GACAS,KAAAsB,MAAA,eCnFeiL,GADE9K,OAFjB,WAA0B,IAAAyI,EAAAlK,KAAa0B,EAAAwI,EAAAvI,eAA0BC,EAAAsI,EAAArI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,aAAuBI,OAAOwK,SAAA,UAAoB7B,OAAQxL,MAAA+K,EAAA,MAAAhC,SAAA,SAAA0C,GAA2CV,EAAA/K,MAAAyL,GAAcE,WAAA,WAAqBlJ,EAAA,cAAmBI,OAAOG,QAAA+H,EAAA/H,QAAArD,QAAAoL,EAAApL,QAAAmD,eAAA,GAAAC,MAAA,OAAAG,YAAA,QAAgGC,IAAKmK,OAAAvC,EAAAiC,SAAA5J,OAAA2H,EAAA7I,SAAAmB,QAAA0H,EAAA3I,cAAqE,IAEpZmB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEuB,EACAmI,GATF,EAVA,SAAAzJ,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,EAAAJ,EAAiB","file":"static/js/2.3c7eb817ef4d6e8af1aa.js","sourcesContent":["<template>\r\n  <div class=\"popup\" v-if=\"value\">\r\n    <van-picker\r\n      ref=\"picker\"\r\n      class=\"picker\"\r\n      show-toolbar\r\n      title=\"选择分类\"\r\n      :loading=\"loading\"\r\n      :columns=\"list\"\r\n      :defualt-index=\"3\"\r\n      value-key=\"name\"\r\n      @cancel=\"onCancel\"\r\n      @confirm=\"onConfirm\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport { Loading, Picker, Toast, Popup } from 'vant'\r\nimport ynowApi from '../../api/ynow'\r\nVue.use(Loading).use(Picker).use(Popup)\r\n\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      list: [],\r\n      loading: false,\r\n      index: 1\r\n    }\r\n  },\r\n  watch: {\r\n    value (val) {\r\n      console.log(val)\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.loading = true\r\n    try {\r\n      let ret = await ynowApi.getXzCategorytList()\r\n      if (+ret.retCode === 0) {\r\n        this.list = ret.data.list\r\n      } else {\r\n        Toast(ret.errMsg)\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n    this.loading = false\r\n  },\r\n  methods: {\r\n    onCancel () {\r\n      this.$emit('on-cancel')\r\n    },\r\n    onConfirm (data) {\r\n      this.$emit('on-confirm', data)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.popup {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 9999;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, .4);\r\n}\r\n.picker {\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  background: #fff;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/categoryPicker/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.value)?_c('div',{staticClass:\"popup\"},[_c('van-picker',{ref:\"picker\",staticClass:\"picker\",attrs:{\"show-toolbar\":\"\",\"title\":\"选择分类\",\"loading\":_vm.loading,\"columns\":_vm.list,\"defualt-index\":3,\"value-key\":\"name\"},on:{\"cancel\":_vm.onCancel,\"confirm\":_vm.onConfirm}})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-54b8f486\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/categoryPicker/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-54b8f486\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54b8f486\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-54b8f486\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/categoryPicker/index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"popup\" v-if=\"value\">\r\n    <van-picker\r\n      class=\"picker\"\r\n      show-toolbar\r\n      title=\"选择分类\"\r\n      :loading=\"loading\"\r\n      :columns=\"columns\"\r\n      value-key=\"name\"\r\n      @cancel=\"onCancel\"\r\n      @confirm=\"onConfirm\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport { Loading, Picker, Popup } from 'vant'\r\nimport { tradeWay } from '../../config'\r\nVue.use(Loading).use(Picker).use(Popup)\r\n\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    defaultIndex: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      columns: tradeWay,\r\n      loading: false\r\n    }\r\n  },\r\n  methods: {\r\n    onCancel () {\r\n      this.$emit('on-cancel')\r\n    },\r\n    onConfirm (data) {\r\n      this.$emit('on-confirm', data)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.popup {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 9999;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, .4);\r\n}\r\n.picker {\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  background: #fff;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/tradeWayPicker/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.value)?_c('div',{staticClass:\"popup\"},[_c('van-picker',{staticClass:\"picker\",attrs:{\"show-toolbar\":\"\",\"title\":\"选择分类\",\"loading\":_vm.loading,\"columns\":_vm.columns,\"value-key\":\"name\"},on:{\"cancel\":_vm.onCancel,\"confirm\":_vm.onConfirm}})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-02b3776e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/tradeWayPicker/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-02b3776e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02b3776e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-02b3776e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tradeWayPicker/index.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA0klEQVR4Xu3bwQ3CQAxE0dla0gY3mkKcuKUqbrThWkAo6WGQeGnAkZXd/D+yV0rPzOxJbmf5fdu2e+NVVqPot6YG+AIcAXeAS9BfwG8QBwChowNIEApzATLEBhtmSocbXZcHCEQkQiIxmaBMUCYoE5QJygRlgjLBeiY4M4+SEF2TXM7aryTPxnusmXk3Cv9KTQ34+yPQ+hTJEBkiQ2SIDJEhMkSG6jIEhEodQIJIEAkiQSSIBJEgEkSCRmXNChuWNi1uXN6+gIUJCxMWJixMVBYmPpG4ParnMh3BAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/xzProductCreate/img/add.png\n// module id = BLOL\n// module chunks = 2","import '../../style/base.css';\nimport '../index.css';\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vant@1.5.6@vant/es/switch/style/index.js\n// module id = I8yz\n// module chunks = 2 3","<template>\n  <div class=\"view\">\n    <van-nav-bar\n      title=\"发布闲置\"\n      left-text=\"返回\"\n      left-arrow\n      @click-left=\"$router.go(-1)\"\n    />\n    <div class=\"content\">\n      <!-- 填写标题 -->\n      <van-field v-model=\"form.title\" placeholder=\"标题(品牌型号都是买家喜欢搜索的关键词)\" />\n      <!-- 填写价格 -->\n      <van-field v-model=\"form.price\" placeholder=\"价格(单位为元)\" />\n      <!-- 成色 -->\n      <van-field v-model=\"form.depreciation\" placeholder=\"成色(1-100)\" type=\"number\" />\n      <!-- 填写描述 -->\n      <van-field v-model=\"form.description\" placeholder=\"描述(入手渠道使用感受等)\" type=\"textarea\" />\n      <!-- 选择分类 -->\n      <van-field\n        v-model=\"categoryName\"\n        placeholder=\"分类(有助于买家快速筛选)\"\n        :readonly=\"true\"\n        :is-link=\"true\"\n        @click.native=\"showCategoryPicker=true\"\n      />\n      <!-- 选择交易方式 -->\n      <van-field\n        v-model=\"tradeWayName\"\n        placeholder=\"交易方式\"\n        :readonly=\"true\"\n        :is-link=\"true\"\n        @click.native=\"showTradeWayPicker=true\"\n      />\n      <!-- 选择交易方式 -->\n      <van-field\n        v-model=\"form.city\"\n        placeholder=\"宝贝所在城市\"\n        :readonly=\"true\"\n        :is-link=\"true\"\n        @click.native=\"showCityPicker=true\"\n      />\n      <!-- 上传图片 -->\n      <div class=\"upload-wrap\">\n        <div class=\"preview-box\" v-for=\"(item, index) in pickList\" :key=\"index\">\n          <img class=\"pre-item\" :src=\"item.content\" />\n          <div @click=\"removeItem(index)\">\n            <div>%{{ item.percent }}</div>\n            <img class=\"icon-remove\" src=\"./img/remove.png\" alt=\"图片\" />\n          </div>\n        </div>\n        <van-uploader class=\"touch-area\" :after-read=\"onRead\">\n          <template v-show=\"pickList.length === 0\">\n            <img class=\"icon-add\" src=\"./img/add.png\" />\n          </template>\n        </van-uploader>\n      </div>\n      <van-cell class=\"ui-flex\" title=\"是否上架\">\n        <van-switch v-model=\"checked\" />\n      </van-cell>\n    </div>\n\n    <van-button\n      class=\"btm-fixed\"\n      size=\"large\"\n      type=\"primary\"\n      @click=\"handleSubmit\">提交</van-button>\n\n    <!-- 分类picker -->\n    <categoryPicker v-model=\"showCategoryPicker\" @on-confirm=\"onCategoryChange\" @on-cancel=\"showCategoryPicker=false\" />\n    <!-- 交易方式picker -->\n    <tradeWayPicker v-model=\"showTradeWayPicker\" @on-confirm=\"onTradeWayChange\" @on-cancel=\"showTradeWayPicker=false\" />\n    <!-- 选择城市picker -->\n    <cityPicker v-model=\"showCityPicker\" @on-confirm=\"onCityChange\" />\n    <van-dialog v-model=\"showFormError\" title=\"您提交的参数不规范\">\n      <ul class=\"error-list\">\n        <li v-for=\"(item, index) in errors\" :key=\"index\">{{ index + 1 }}. {{ item }}</li>\n      </ul>\n    </van-dialog>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport { mapState } from 'vuex'\nimport {\n  Field,\n  NavBar,\n  Switch,\n  Cell,\n  CellGroup,\n  Uploader,\n  Toast,\n  Button,\n  Dialog\n} from 'vant'\nimport ynowApi from '../../api/ynow'\nimport * as qiniu from 'qiniu-js'\nimport cityPicker from '../../components/cityPicker'\nimport categoryPicker from '../../components/categoryPicker'\nimport tradeWayPicker from '../../components/tradeWayPicker'\nimport { tradeWay } from '../../config'\n\nVue.use(NavBar)\n  .use(Field)\n  .use(Switch)\n  .use(Cell)\n  .use(CellGroup)\n  .use(Button)\n  .use(Uploader)\n  .use(Dialog)\n\nexport default {\n  components: {\n    cityPicker,\n    categoryPicker,\n    tradeWayPicker\n  },\n  data () {\n    return {\n      checked: '',\n      form: {\n        price: '',\n        title: '',\n        city: '',\n        description: '',\n        depreciation: '',\n        categoryId: '',\n        categoryName: '',\n        tradeWayId: '',\n        tradeWayName: ''\n      },\n      pickList: [],\n      token: '',\n      // 分类 picker\n      categoryValue: null,\n      showCategoryPicker: false,\n      // 交易方式 picker\n      tradeWayPickerValue: null,\n      showTradeWayPicker: false,\n      // 所在城市 picker\n      cityPickerValue: null,\n      showCityPicker: false,\n      // 表单校验结果\n      errors: [],\n      showFormError: false\n    }\n  },\n  computed: {\n    ...mapState({\n      categoryList: state => state.xzProduct.category.list\n    }),\n    tradeWayName () {\n      const findIndex = tradeWay.findIndex(element => +element.id === +this.form.tradeWayId)\n      if (findIndex !== -1) {\n        return tradeWay[findIndex].name\n      } else {\n        return ''\n      }\n    },\n    categoryName () {\n      const findIndex = this.categoryList.findIndex(element => +element.id === +this.form.categoryId)\n      if (findIndex !== -1) {\n        return this.categoryList[findIndex].name\n      } else {\n        return ''\n      }\n    }\n  },\n  mounted () {\n    this.doGet7nToken()\n    if (this.$route.query.itemId) {\n      this.doGetXzProductItem()\n    }\n    if (!this.categoryList.length) {\n      this.$store.dispatch('xzProduct/getCategory')\n    }\n  },\n  methods: {\n    // 选择图片\n    onRead (file) {\n      this.pickList.push(file)\n      this.uploadImg(this.pickList.length - 1, file.file)\n    },\n\n    // 删除图片\n    removeItem (index) {\n      this.pickList.splice(index, 1)\n    },\n\n    // 获取七牛云token\n    async doGet7nToken () {\n      try {\n        let ret = await ynowApi.get7nToken()\n        if (+ret.errCode === 0) {\n          this.token = ret.data.token\n        } else {\n          Toast(ret.errMsg)\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // 获取商品信息\n    async doGetXzProductItem () {\n      try {\n        let ret = await ynowApi.getXzProductItem(this.$route.query.itemId)\n        if (+ret.retCode === 0) {\n          this.itemInfo = ret.data\n          this.form.price = +this.itemInfo.price / 100\n          this.form.title = this.itemInfo.title\n          this.form.city = this.itemInfo.city\n          this.form.description = this.itemInfo.description\n          this.form.depreciation = this.itemInfo.depreciation\n          this.form.categoryId = this.itemInfo.category_id\n          this.form.tradeWayId = this.itemInfo.trade_way_id\n          this.pickList = this.itemInfo.imgs.map(element => {\n            return {\n              url: element,\n              content: element,\n              percent: 100\n            }\n          })\n        } else {\n          Toast(ret.errMsg)\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // 上传图片\n    uploadImg (index, file, callback) {\n      const vm = this\n      const observable = qiniu.upload(file, file.name, this.token, {}, {})\n      observable.subscribe({\n        next (res) {\n          vm.pickList[index]['percent'] = res.total.percent\n          vm.pickList = [].concat(vm.pickList)\n        },\n        error (error) {\n          Toast(error)\n        },\n        complete (res) {\n          vm.pickList[index]['url'] = `//c1.airtlab.com/${res.key}`\n          vm.pickList = [].concat(vm.pickList)\n        }\n      })\n    },\n\n    // 创建\n    async doCreateProduct () {\n      try {\n        let imgs = this.pickList.map(element => element.url)\n        imgs = JSON.stringify(imgs)\n        const params = {\n          ...this.form,\n          imgs: imgs,\n          price: +this.form.price * 100\n        }\n        let ret = await ynowApi.createXzProduct(params)\n        if (+ret.errCode === 0) {\n          Toast.success('发布成功')\n        } else {\n          Toast(ret.errMsg)\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // 修改\n    async doUpdateProduct () {\n      try {\n        let imgs = this.pickList.map(element => element.url)\n        imgs = JSON.stringify(imgs)\n        const params = {\n          ...this.form,\n          imgs: imgs,\n          itemId: this.$route.query.itemId,\n          price: +this.form.price * 100\n        }\n        let ret = await ynowApi.updateXzProduct(params)\n        if (+ret.errCode === 0) {\n          Toast.success('发布成功')\n        } else {\n          Toast(ret.errMsg)\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    // 参数校验\n    handleSubmit () {\n      const form = this.form\n      const errors = []\n      if (form.title.length < 5) {\n        errors.push('标题长度不能小于5')\n      }\n      if (form.price.length === 0) {\n        errors.push('价格不能为空')\n      }\n      if (form.city.length === 0) {\n        errors.push('宝贝所在城市不能为空')\n      }\n      if (form.depreciation.length === 0) {\n        errors.push('宝贝成色不能为空')\n      }\n      if (form.categoryId.length === 0) {\n        errors.push('宝贝分类不能为空')\n      }\n      if (form.tradeWayId.length === 0) {\n        errors.push('交易方式不能为空')\n      }\n      if (this.pickList.length < 2) {\n        errors.push('宝贝图片不能小于2张')\n      }\n      this.errors = errors\n      this.showFormError = !!errors.length\n      if (!this.showFormError) {\n        if (this.$route.query.itemId) {\n          this.doUpdateProduct()\n        } else {\n          this.doCreateProduct()\n        }\n      }\n    },\n\n    // 选择分类\n    onCategoryChange (data) {\n      this.categoryValue = data\n      this.form.categoryId = data.id\n      this.form.categoryName = data.name\n      this.showCategoryPicker = false\n    },\n\n    // 选择交易方式\n    onTradeWayChange (data) {\n      this.tradeWayPickerValue = data\n      this.form.tradeWayId = data.id\n      this.form.tradeWayName = data.name\n      this.showTradeWayPicker = false\n    },\n\n    // 选择所在城市\n    onCityChange (data) {\n      this.cityPickerValue = data\n      let values = []\n      data.forEach(element => {\n        values.push(element.name)\n      })\n      this.form.city = values.join(' ')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.view {\n  padding-bottom: 50px;\n  .btm-fixed {\n    z-index: 100;\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n  }\n}\n\n.ui-flex {\n  display: flex;\n  align-items: center;\n  /deep/ .van-cell__value {\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n  }\n}\n\n.error-list {\n  padding: 14px 20px;\n  font-size: 14px;\n  color: #999;\n}\n\n// 图片上传\n.upload-wrap {\n  float: right;\n  padding: 20px 0;\n  .touch-area,\n  .pre-item {\n    float: right;\n    width: 80px;\n    height: 80px;\n    margin-right: 10px;\n    margin-bottom: 10px;\n    border: 1px solid #eee;\n  }\n  .icon-add {\n    position: absolute;\n    width: 30px;\n    height: 30px;\n    left: 50%;\n    top: 50%;\n    transform: translate3d(-50%, -50%, 0);\n  }\n  .icon-remove {\n    display: block;\n    width: 24px;\n    height: 24px;\n    margin: 0 auto;\n    margin-bottom: 20px;\n  }\n  .preview-box {\n    float: right;\n  }\n}\n\n.btm-fixed {\n  position: absolute;\n  bottom: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/xzProductCreate/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"view\"},[_c('van-nav-bar',{attrs:{\"title\":\"发布闲置\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){_vm.$router.go(-1)}}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('van-field',{attrs:{\"placeholder\":\"标题(品牌型号都是买家喜欢搜索的关键词)\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"placeholder\":\"价格(单位为元)\"},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"placeholder\":\"成色(1-100)\",\"type\":\"number\"},model:{value:(_vm.form.depreciation),callback:function ($$v) {_vm.$set(_vm.form, \"depreciation\", $$v)},expression:\"form.depreciation\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"placeholder\":\"描述(入手渠道使用感受等)\",\"type\":\"textarea\"},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"placeholder\":\"分类(有助于买家快速筛选)\",\"readonly\":true,\"is-link\":true},nativeOn:{\"click\":function($event){_vm.showCategoryPicker=true}},model:{value:(_vm.categoryName),callback:function ($$v) {_vm.categoryName=$$v},expression:\"categoryName\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"placeholder\":\"交易方式\",\"readonly\":true,\"is-link\":true},nativeOn:{\"click\":function($event){_vm.showTradeWayPicker=true}},model:{value:(_vm.tradeWayName),callback:function ($$v) {_vm.tradeWayName=$$v},expression:\"tradeWayName\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"placeholder\":\"宝贝所在城市\",\"readonly\":true,\"is-link\":true},nativeOn:{\"click\":function($event){_vm.showCityPicker=true}},model:{value:(_vm.form.city),callback:function ($$v) {_vm.$set(_vm.form, \"city\", $$v)},expression:\"form.city\"}}),_vm._v(\" \"),_c('div',{staticClass:\"upload-wrap\"},[_vm._l((_vm.pickList),function(item,index){return _c('div',{key:index,staticClass:\"preview-box\"},[_c('img',{staticClass:\"pre-item\",attrs:{\"src\":item.content}}),_vm._v(\" \"),_c('div',{on:{\"click\":function($event){_vm.removeItem(index)}}},[_c('div',[_vm._v(\"%\"+_vm._s(item.percent))]),_vm._v(\" \"),_c('img',{staticClass:\"icon-remove\",attrs:{\"src\":require(\"./img/remove.png\"),\"alt\":\"图片\"}})])])}),_vm._v(\" \"),_c('van-uploader',{staticClass:\"touch-area\",attrs:{\"after-read\":_vm.onRead}},[[_c('img',{staticClass:\"icon-add\",attrs:{\"src\":require(\"./img/add.png\")}})]],2)],2),_vm._v(\" \"),_c('van-cell',{staticClass:\"ui-flex\",attrs:{\"title\":\"是否上架\"}},[_c('van-switch',{model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}})],1)],1),_vm._v(\" \"),_c('van-button',{staticClass:\"btm-fixed\",attrs:{\"size\":\"large\",\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('categoryPicker',{on:{\"on-confirm\":_vm.onCategoryChange,\"on-cancel\":function($event){_vm.showCategoryPicker=false}},model:{value:(_vm.showCategoryPicker),callback:function ($$v) {_vm.showCategoryPicker=$$v},expression:\"showCategoryPicker\"}}),_vm._v(\" \"),_c('tradeWayPicker',{on:{\"on-confirm\":_vm.onTradeWayChange,\"on-cancel\":function($event){_vm.showTradeWayPicker=false}},model:{value:(_vm.showTradeWayPicker),callback:function ($$v) {_vm.showTradeWayPicker=$$v},expression:\"showTradeWayPicker\"}}),_vm._v(\" \"),_c('cityPicker',{on:{\"on-confirm\":_vm.onCityChange},model:{value:(_vm.showCityPicker),callback:function ($$v) {_vm.showCityPicker=$$v},expression:\"showCityPicker\"}}),_vm._v(\" \"),_c('van-dialog',{attrs:{\"title\":\"您提交的参数不规范\"},model:{value:(_vm.showFormError),callback:function ($$v) {_vm.showFormError=$$v},expression:\"showFormError\"}},[_c('ul',{staticClass:\"error-list\"},_vm._l((_vm.errors),function(item,index){return _c('li',{key:index},[_vm._v(_vm._s(index + 1)+\". \"+_vm._s(item))])}),0)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7b34a890\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/xzProductCreate/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b34a890\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b34a890\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b34a890\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/xzProductCreate/index.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB10lEQVRYR+2WzUrEMBSF721kfAzb5DVEXerCERyVEXGh7zEb30MQRB38GVBBdOHKx5Amr6GDzZUMrQyhbZKOOgrTZX9yvpyce28RpnzhlPVhBvA3HZBSLhBRL4qiqyRJnibJiZRyiYgOGGNHcRwre61SB9I0PQaAQwAgRNzhnF83gVBKrWZZdo+IcwDQF0Ls+gIsEtEzIrYAIEPEbihELn7rWqMyAxa9gdjknN/5OOErbtaqDaGUsq21vjEWEtFHFEUdF0SIuBPAvGAgiGgAAMxAMMbWkyR5LHPCEvfKj1cZSim3iKifQwwZYxs2hC0OAPtCiDPXkXkB5E5UQjQV9zqC8R3kTlya7BDREADWGGOtLMuKtJPvzot1vR0oPkjTdA8ATvMAvxFRlJdasHiwAxUQ5nYj8f8JMH4ERPQ+2gXifFMXgjJgiY/K0QD8SgjLxIte8ONlWCdeBLMphPMIfMSrIHxGuWsYme731XjKWrDdar9tGPn0/6o+XzLKK/8nSh2QUm4T0UXd8HENmfFRbgoFANpCiAffPyIj3jX93sf2KhgLYiCE6HgBKKVirXUPEU845y+u3dY9V0ota61XAOBcCPHqBTCJYOi3zjIMXTD0/RnA1B34BHm/azB96WW0AAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/xzProductCreate/img/remove.png\n// module id = qWKO\n// module chunks = 2","<template>\r\n  <van-popup v-model=\"value\" position=\"bottom\">\r\n    <van-picker\r\n      :columns=\"columns\"\r\n      @change=\"onChange\"\r\n      :loading=\"loading\"\r\n      show-toolbar\r\n      title=\"选择地址\"\r\n      @cancel=\"onCancel\"\r\n      @confirm=\"onConfirm\"\r\n      value-key=\"name\"\r\n    />\r\n  </van-popup>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport { Picker, Popup } from 'vant'\r\nimport ynowApi from '../../api/ynow'\r\n\r\nVue.use(Picker).use(Popup)\r\n\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      loading: true,\r\n      columnNum: 3,\r\n      columns: []\r\n    }\r\n  },\r\n  mounted () {\r\n    ynowApi.getSfCityList().then(res => {\r\n      let list = res.data.list\r\n      list = JSON.stringify(list)\r\n        .replace(/areaId/g, 'value')\r\n        .replace(/areaName/g, 'name')\r\n        .replace(/children/g, 'children')\r\n        .replace(/id/g, 'value')\r\n      list = JSON.parse(list)\r\n      this.loading = false\r\n      this.list = list\r\n      this.initCityList()\r\n    })\r\n  },\r\n  methods: {\r\n    onChange (picker, values, index) {\r\n      this.picker = picker\r\n      if (values[index].children && values[index].children.length) {\r\n        this.rawIndex(index + 1, values[index].children)\r\n      }\r\n    },\r\n    initCityList () {\r\n      for (let index = 0; index < this.columnNum; index++) {\r\n        this.columns[index] = {\r\n          values: [],\r\n          defaultIndex: 0\r\n        }\r\n      }\r\n      this.rawIndex(0, this.list)\r\n    },\r\n    rawIndex (index, list) {\r\n      if (index === this.columnNum) {\r\n        return\r\n      }\r\n      if (this.picker) {\r\n        this.picker.setColumnValues(index, list)\r\n      } else {\r\n        this.columns[index]['values'] = list\r\n      }\r\n      if (list.length && list[0].children && list[0].children.length) {\r\n        this.rawIndex(index + 1, list[0].children)\r\n      } else {\r\n        this.rawIndex(index + 1, [])\r\n      }\r\n    },\r\n    onCancel (data) {\r\n      this.$emit('input', false)\r\n    },\r\n    onConfirm (data) {\r\n      this.$emit('on-confirm', data)\r\n      this.$emit('input', false)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped></style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/cityPicker/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('van-picker',{attrs:{\"columns\":_vm.columns,\"loading\":_vm.loading,\"show-toolbar\":\"\",\"title\":\"选择地址\",\"value-key\":\"name\"},on:{\"change\":_vm.onChange,\"cancel\":_vm.onCancel,\"confirm\":_vm.onConfirm}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-b651f70c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/cityPicker/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b651f70c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b651f70c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b651f70c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/cityPicker/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}