webpackJsonp([9],{"+pYd":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("qk+X");var r=a("6bCN"),n=a("lC5x"),s=a.n(n),c=a("J0Oq"),i=a.n(c),o=(a("X4Fc"),a("v+Hq")),u=(a("xDMY"),a("gH86")),l=a("xd7I"),f=a("MqhK");l.default.use(o.a).use(u.a);var v={data:function(){return{loading:!1,userList:[]}},mounted:function(){var t=this;return i()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.initPageData();case 1:case"end":return e.stop()}},e,t)}))()},methods:{getDataList:function(){var t=this;return i()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.a.loading("加载中"),t.loading=!0,e.prev=2,e.next=5,f.a.getFollowList();case 5:0==+(a=e.sent).retCode?t.userList=a.data.list:Object(r.a)(a.errMsg),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:r.a.clear(),t.loading=!1;case 14:case"end":return e.stop()}},e,t,[[2,9]])}))()},switchUserProfile:function(t){var e=this;return i()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.$router.push("/user/profile/"+t.id);case 1:case"end":return a.stop()}},a,e)}))()},cancleFollow:function(t){var e=this;return i()(s.a.mark(function a(){var n;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r.a.loading("加载中"),a.prev=1,a.next=4,f.a.removeFollow({followId:e.userList[t].follow_id});case 4:0==+(n=a.sent).retCode?(r.a.success("取消成功"),e.userList.splice(t,1)):Object(r.a)(n.errMsg),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:r.a.clear();case 12:case"end":return a.stop()}},a,e,[[1,8]])}))()},initPageData:function(){var t=this;return i()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDataList();case 2:case"end":return e.stop()}},e,t)}))()}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-follow"},[a("van-nav-bar",{attrs:{"left-text":"返回","left-arrow":"",title:"我的关注"},on:{"click-left":function(e){return t.$router.go(-1)}}}),t._v(" "),a("div",{staticClass:"ui-content ui-content--full"},[a("ul",{staticClass:"list"},t._l(t.userList,function(e,r){return a("li",{key:r,staticClass:"item",on:{click:function(a){return t.switchUserProfile(e.userInfo)}}},[a("div",{staticClass:"ui-flex"},[a("img",{staticClass:"item-avatar",attrs:{src:e.userInfo.avatar}}),t._v(" "),a("span",{staticClass:"item-nickName"},[t._v(t._s(e.userInfo.nickname))])]),t._v(" "),a("van-button",{staticClass:"follow-btn",attrs:{size:"small"},on:{click:function(e){return e.stopPropagation(),t.cancleFollow(r)}}},[t._v("取消关注")])],1)}),0)])],1)},staticRenderFns:[]};var p=a("C7Lr")(v,d,!1,function(t){a("ccSv")},"data-v-ac4c1022",null);e.default=p.exports},ccSv:function(t,e){}});
//# sourceMappingURL=9.d245df822d2686659bed.js.map