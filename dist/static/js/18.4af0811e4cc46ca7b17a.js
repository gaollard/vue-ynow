webpackJsonp([18],{"+pYd":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("GHWT");var n=a("1yQd"),r=a("lC5x"),s=a.n(r),i=a("J0Oq"),o=a.n(i),c=a("4YfN"),u=a.n(c),l=(a("4way"),a("lFAY")),f=(a("pkmQ"),a("p8HH")),v=a("/xf8"),d=a("MqhK"),p=a("R4Sj");v.default.use(l.a).use(f.a);var w={data:function(){return{loading:!1,userList:[]}},computed:u()({},Object(p.b)({userInfo:function(t){return t.user.userInfo}})),mounted:function(){var t=this;return o()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.initPageData();case 1:case"end":return e.stop()}},e,t)}))()},methods:{getDataList:function(){var t=this;return o()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.a.loading("加载中"),t.loading=!0,e.prev=2,e.next=5,d.a.getFollowList();case 5:0==+(a=e.sent).retCode?t.userList=a.data.list:Object(n.a)(a.errMsg),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:n.a.clear(),t.loading=!1;case 14:case"end":return e.stop()}},e,t,[[2,9]])}))()},switchUserProfile:function(t){var e=this;return o()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.$router.push("/user/profile/"+t.id);case 1:case"end":return a.stop()}},a,e)}))()},cancleFollow:function(t){var e=this;return o()(s.a.mark(function a(){var r;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n.a.loading("加载中"),a.prev=1,a.next=4,d.a.removeFollow({followId:e.userList[t].follow_id});case 4:0==+(r=a.sent).retCode?(n.a.success("取消成功"),e.userList.splice(t,1)):Object(n.a)(r.errMsg),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:n.a.clear();case 12:case"end":return a.stop()}},a,e,[[1,8]])}))()},initPageData:function(){var t=this;return o()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDataList();case 2:case"end":return e.stop()}},e,t)}))()}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-follow"},[t.userList.length?[a("van-nav-bar",{attrs:{"left-text":"返回","left-arrow":"",title:"我的关注"},on:{"click-left":function(e){t.$router.go(-1)}}}),t._v(" "),a("div",{staticClass:"ui-content ui-content--full"},[a("ul",{staticClass:"list"},t._l(t.userList,function(e,n){return a("li",{directives:[{name:"show",rawName:"v-show",value:e.follow_id!=t.userInfo.id,expression:"item.follow_id != userInfo.id"}],key:n,staticClass:"item",on:{click:function(a){t.switchUserProfile(e.userInfo)}}},[a("div",{staticClass:"ui-flex"},[a("img",{staticClass:"item-avatar",attrs:{src:e.userInfo.avatar}}),t._v(" "),a("span",{staticClass:"item-nickName"},[t._v(t._s(e.userInfo.nickname))])]),t._v(" "),a("van-button",{staticClass:"follow-btn",attrs:{size:"small"},on:{click:function(e){e.stopPropagation(),t.cancleFollow(n)}}},[t._v("取消关注")])],1)}),0)])]:a("div",[t.loading?t._e():a("div",[t._v("-暂无数据-")])])],2)},staticRenderFns:[]};var m=a("C7Lr")(w,h,!1,function(t){a("fNBi")},"data-v-032d80ee",null);e.default=m.exports},fNBi:function(t,e){}});
//# sourceMappingURL=18.4af0811e4cc46ca7b17a.js.map